<div class="grid">
  <div class="panel">
    <label for="inputText"><strong>Metin</strong></label>
    <textarea
      id="inputText"
      [(ngModel)]="text"
      placeholder="Analiz edilecek Türkçe metni buraya yapıştırın..."
    ></textarea>
    <div class="actions">
      <span class="meta">{{ text.length }} karakter</span>
      <button (click)="analyze()" [disabled]="loading || !text.trim()">
        {{ loading ? "Analiz ediliyor..." : "Analyze" }}
      </button>
    </div>
    <div class="error" *ngIf="errorMessage">{{ errorMessage }}</div>
    <div class="export" *ngIf="result">
      <label for="exportFormat" class="meta">Export formatı</label>
      <div class="export-actions">
        <select id="exportFormat" [(ngModel)]="exportFormat">
          <option value="csv">CSV</option>
          <option value="txt">TXT</option>
          <option value="pdf">PDF</option>
        </select>
        <button (click)="exportResult()" [disabled]="exporting">Export</button>
      </div>
      <div class="meta" *ngIf="exporting">Dosya hazırlanıyor...</div>
    </div>
  </div>

  <div>
    <app-results-panel [statistics]="result?.statistics ?? null"></app-results-panel>
    <div class="panel" *ngIf="!result && !loading">
      <div class="meta">Sonuçlar burada görünecek.</div>
    </div>
    <div class="panel" *ngIf="loading">
      <div class="meta">Analiz devam ediyor...</div>
    </div>
  </div>
</div>

<div class="results" *ngIf="result">
  <app-sentence-list [sentences]="result.sentences"></app-sentence-list>
</div>
